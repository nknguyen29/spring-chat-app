<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/master}" >
    <div layout:fragment="content">
        <div class="flex flex-col w-full h-full">
            <div class="flex flex-wrap justify-between items-end mb-6 gap-5">
                <div class="grow">
                    <h1 class="text-base md:text-lg font-semibold mb-1">Liste des utilisateurs</h1>
                    <h2 class="text-xs font-medium text-gray-400">Liste des utilisateurs enregistrés dans le système</h2>
                </div>
                <div>
                    <a th:href="@{/users/add}" class="text-white bg-blue-500 hover:bg-blue-600 focus:ring focus:ring-blue-300 font-semibold rounded-lg text-xs px-4 py-2 focus:outline-none transition-colors duration-75">Créer un nouvel utilisateur</a>
                </div>
            </div>

            <!--/*
                Use the `id` attribute to uniquely identify the form.
                This allows the form to be referenced from anywhere in the HTML document.
                This enables submit buttons or other form controls outside the form to be associated with it for submission.
            */-->
            <form id="searchForm" th:action="@{/users}" method="get"></form>

            <div class="flex-grow bg-white shadow-sm rounded-lg p-10">
                <div th:replace="~{user/fragments/_search_form.html :: search-form}"></div>

                <div th:if="${users.empty}">
                    <div class="flex items-start px-5 pt-4 pb-3.5 border border-red-500 border-dashed rounded-lg bg-red-50 gap-4 flex-wrap gap-y-3.5 mt-6 mx-auto w-3/4"
                        role="alert">
                        <i class="fa-solid fa-exclamation-circle text-red-500 text-2xl"></i>
                        <div class="flex flex-col gap-0.5 -mt-1">
                            <span class="font-semibold text-xl text-gray-800">Aucun utilisateur trouvé</span>
                            <span class="text-gray-800">Aucun utilisateur trouvé pour la recherche spécifiée.</span>
                        </div>
                    </div>
                </div>




                <div class="flex items-center justify-center space-x-2 text-sm  font-medium">
                    <a href="#" class="flex items-center justify-center px-2.5 py-2.5 text-zinc-300 bg-white rounded-s-lg rounded-e-sm hover:bg-gray-100/75 hover:text-blue-500 transition-colors duration-75 -me-0.5">
                        <i class="w-3 h-3 fa-solid fa-chevron-left"></i>
                    </a>
                    <a href="#" class="flex items-center justify-center aspect-square px-3 py-1.5 text-gray-500 bg-white rounded-lg  hover:bg-gray-100/75 hover:text-blue-500 transition-colors duration-75">1
                    </a>
                    <a href="#" class="flex items-center aspect-square justify-center px-3 py-1.5 text-white bg-blue-500 rounded-lg">2
                    </a>
                    <a href="#" class="flex items-center justify-center px-3 py-1.5 text-gray-500 bg-white rounded-lg  hover:bg-gray-100/75 hover:text-blue-500 transition-colors duration-75">3
                    </a>
                    <a href="#" class="flex items-center justify-center px-3 py-1.5 text-gray-500 bg-white rounded-lg  hover:bg-gray-100/75 hover:text-blue-500 transition-colors duration-75">4
                    <a href="#" class="flex items-center justify-center px-2.5 py-2.5 text-zinc-300 bg-white rounded-s-lg rounded-e-sm hover:bg-gray-100/75 hover:text-blue-500 transition-colors duration-75 -ms-1">
                        <i class="w-3 h-3 fa-solid fa-chevron-right"></i>
                    </a>
                    
                </div>
                
                [[${requestQueryString}]]
                <span class="text-red-500">
                [[${requestUrl}]]</span>
                <a th:href="@{ ${requestUri} + '?' + ${requestQueryString} + '&page=1'}">OLD</a>
                <a th:href="@{ ${uriComponentsBuilder.replaceQueryParam('page', 1).build().toUriString()} }">NEW</a>

                <br>
                [[${users}]]
                <br>
                [[${users.empty}]]
                <br>
                Nb page total: [[${users.totalPages}]]
                <br>
                Nb éléments total: [[${users.totalElements}]]




                <div th:if="${!users.empty}" class="bg-white sm:rounded-lg">

                    <div th:replace="~{user/fragments/_table :: table}"></div>
                    <div th:replace="~{user/fragments/_pagination :: pagination}"></div>

                </div>




            </div>
        </div>
    </div>
</html>
